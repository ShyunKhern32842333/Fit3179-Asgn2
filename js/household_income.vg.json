{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "config": {
    "background": "#FFFFE0",
    "axis": {
      "labelFont": "Arial",
      "titleFont": "Arial"
    },
    "title": {
      "font": "Arial",
      "fontSize": 16,
      "fontWeight": "bold",
      "color": "#000080"
    },
    "legend": {
      "labelFont": "Arial",
      "titleFont": "Arial"
    }
  },
  "hconcat": [
    {
      "title": "Income Means Over The Years (2016-2022)",
      "width": 500,
      "height": 500,
      "data": {
        "url": "https://raw.githubusercontent.com/ShyunKhern32842333/Fit3179-Asgn2/refs/heads/main/data/hh_income_state.csv"
      },
      "transform": [
        {"filter": "year(datum.date) >= 2016 && year(datum.date) <= 2022"},
        {
          "calculate": "datum['income_mean'] / 1000",
          "as": "Normalized Income"
        }
      ],
      "mark": {
        "type": "area",
        "tooltip": true
      },
      "encoding": {
        "x": {
          "field": "date",
          "type": "temporal",
          "axis": {"title": "Year"},
          "scale": {"domain": ["2015-12-31", "2022-01-01"]}
        },
        "y": {
          "field": "Normalized Income",
          "type": "quantitative",
          "axis": {"title": "Mean Income (1 : 1,000)"}
        },
        "color": {
          "field": "state",
          "type": "nominal",
          "scale": {
            "range": ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d", "#666666", "#8c564b", "#17becf", "#bcbd22", "#7f7f7f", "#ff7f0e", "#2ca02c", "#9467bd", "#c5b0d5"]
          },
          "legend": {
            "title": "State",
            "orient": "right",
            "direction": "vertical",
            "gradientLength": 200
          }
        },
        "tooltip": [
          {"field": "date", "type": "temporal", "title": "Year"},
          {"field": "income_mean", "type": "quantitative", "title": "Mean Income"},
          {"field": "Normalized Income", "type": "quantitative", "title": "Normalized Mean Income"},
          {"field": "state", "type": "nominal", "title": "State"}
        ]
      }
    },
    {
      "title": "Households Over the Years (2016-2022)",
      "width": 500,
      "height": 500,
      "data": {
        "url": "https://raw.githubusercontent.com/ShyunKhern32842333/Fit3179-Asgn2/refs/heads/main/data/hh_lq_state.csv"
      },
      "transform": [
        {"filter": "year(datum.date) >= 2016 && year(datum.date) <= 2022"},
        {
          "calculate": "datum['households'] / 1000",
          "as": "Normalized Households"
        }
      ],
      "mark": "bar",
      "encoding": {
        "x": {
          "field": "date",
          "type": "temporal",
          "axis": {"title": "Year"}
        },
        "y": {
          "field": "Normalized Households",
          "type": "quantitative",
          "axis": {"title": "Number of Households (1 : 1,000)"}
        },
        "color": {
          "field": "state",
          "type": "nominal",
          "scale": {
            "range": ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d", "#666666", "#8c564b", "#17becf", "#bcbd22", "#7f7f7f", "#ff7f0e", "#2ca02c", "#9467bd", "#c5b0d5"]
          },
          "legend": {
            "title": "State",
            "orient": "right",
            "direction": "vertical"
          }
        },
        "tooltip": [
          {"field": "date", "type": "temporal", "title": "Year"},
          {"field": "households", "type": "quantitative", "title": "Number of Households"},
          {"field": "Normalized Households", "type": "quantitative", "title": "Normalized Number of Households"},
          {"field": "state", "type": "nominal", "title": "State"}
        ]
      }
    }
  ]
}